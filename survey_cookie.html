<!DOCTYPE html>
<html lang="en">

<head>
    <title>Movie Survey</title>
    <meta charset="utf-8">
    <style>
        body {
        font-size: 1.3em;
        background-color: beige;

        }
        content{
        width:90%;
        margin:auto;
        }

        h1 {
        text-align:center;
        }

        form {
        margin-left:5%;
        }
        input {
        margin-bottom:2%;
        }
        input#submit {
        display:block;
        background-color:#33ff99;
        font-weight:bold;
        padding: 20px;
        font-size: 1.5em;
        }

        select option {
        font-size: 1.75em;
        width: 150px;
        }
    </style>

    <script>
        function setCookie() {
            let cname = "FirstName"
            const d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            let expires = "expires=" + d.toUTCString();
            let cvalue = document.forms[0].fname.value;
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            return true
        }
        
        function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
        }
    
        function checkCookie() {
            let first_name = getCookie("FirstName");
            if (first_name != "") {
                alert("Welcome again " + first_name);
            } else {
                alert("submit the form to set your cookie")
            }
        }
    </script>

</head>

<body onload="checkCookie()">
    <h1>Movie Survey</h1>
    <form id="content" method="Post" action="https://idesstage2.bc.edu/class/results.php" onsubmit="return setCookie()">
        <div id='welcome'></div>
        <label for="name">First Name: </label><br>
        <input type="text" name="fname"><br>

        <label for="name">Last Name: </label><br>
        <input type="text" name="lname"><br>

        <label for="email">Email: </label><br>
        <input type="text" name="email" required><br>

        <fieldset>
            <legend>What is Your Favorite Type of Movie?</legend>
            <input type="checkbox" name="Favor_M1" value="Drama" id="drama">
            <label for="drama">Drama</label><br>
            <input type="checkbox" name="Favor_M2" value="Comedy" id="comedy">
            <label for="comedy">Comedy</label><br>
            <input type="checkbox" name="Favor_M3" value="Action" id="action">
            <label for="action">Action</label><br>
            <input type="checkbox" name="Favor_M4" value="Fantasy" id="fantasy">
            <label for="fantasy">Fantasy</label><br>
            <input type="checkbox" name="Favor_M5" value="Horror" id="horror">
            <label for="horror">Horror</label><br>
            <input type="checkbox" name="Favor_M6" value="Romance" id="romance">
            <label for="romance">Romance</label><br>
            <input type="checkbox" name="Favor_M7" value="Western" id="western">
            <label for="western">Western</label><br>
        </fieldset>

        <fieldset>
            <legend>How often do you watch a movie?</legend>
            <input type="radio" name="period" value="Every three days" id="Every three days">
            <label for="Every three days">Every three days</label><br>
            <input type="radio" name="period" value="Once a week" id="week">
            <label for="week">Once a week</label><br>
            <input type="radio" name="period" value="Once a month" id="month">
            <label for="month">Once a month</label><br>
            <input type="radio" name="period" value="Every few months" id="fewmonth">
            <label for="fewmonth">Every few months</label><br>
            <input type="radio" name="period" value="Once in a year" id="year">
            <label for="year">Once in a year</label><br>
            <input type="radio" name="period" value="Once in few years" id="fewyear">
            <label for="fewyear">Once in few years</label><br>
            <input type="radio" name="period" value="Never" id="never">
            <label for="never">Never</label><br>
        </fieldset>

        <legend>Which part of the movie do you care about most?</legend>
        <select name="favorate part">
            <option value="plot">Plot</option>
            <option value="character">Character</option>
            <option value="soundtrack">Soundtrack</option>
            <option value="SC">Scene Changes</option>
            <option value="other">other</option>
        </select>

        <legend>Choose one of your favorate movies and explain why you like it:</legend>
        <textarea name="Reason" rows="3" cols="60"></textarea><br>

        <input id="submit" type="submit" value="Submit">
    </form>
</body>

</html>
